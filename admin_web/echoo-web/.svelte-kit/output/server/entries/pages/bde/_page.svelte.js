import { c as create_ssr_component, f as add_attribute, e as escape } from "../../../chunks/ssr.js";
import "../../../chunks/client.js";
const css = {
  code: "html, body{margin:0;padding:0;width:100%;height:100%;overflow:hidden;background-color:#090B10}.login-container.svelte-17x3c1c{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#090B10;font-family:system-ui, -apple-system, sans-serif}.login-box.svelte-17x3c1c{background:rgba(20, 24, 36, 0.5);border-radius:20px;border:1px solid rgba(255, 255, 255, 0.05);box-shadow:0 8px 32px rgba(0, 0, 0, 0.3);backdrop-filter:blur(20px);padding:48px;width:360px;text-align:center}.error-message.svelte-17x3c1c{color:#ff4d4f;margin-bottom:16px;background:rgba(255, 77, 79, 0.1);padding:10px;border-radius:8px}h2.svelte-17x3c1c{color:#fff;font-size:24px;font-weight:500;margin:0 0 32px 0;letter-spacing:0.5px}.input-wrapper.svelte-17x3c1c{display:flex;flex-direction:column;align-items:center;gap:24px}.input-group.svelte-17x3c1c{width:100%}label.svelte-17x3c1c{display:block;margin-bottom:8px;color:rgba(255, 255, 255, 0.6);text-align:left;font-size:14px;font-weight:500}input.svelte-17x3c1c{width:100%;padding:14px 16px;background:rgba(255, 255, 255, 0.05);border:1px solid rgba(255, 255, 255, 0.1);border-radius:12px;color:#fff;font-size:15px;box-sizing:border-box;transition:all 0.2s ease}input.svelte-17x3c1c::placeholder{color:rgba(255, 255, 255, 0.3)}input.svelte-17x3c1c:focus{outline:none;border-color:rgba(255, 255, 255, 0.2);background:rgba(255, 255, 255, 0.08)}input.svelte-17x3c1c:disabled{opacity:0.5;cursor:not-allowed}.button-group.svelte-17x3c1c{width:100%;margin-top:8px}.login-btn.svelte-17x3c1c{width:100%;padding:14px;background:rgba(255, 255, 255, 0.1);color:#fff;border:none;border-radius:12px;font-size:15px;font-weight:500;cursor:pointer;transition:all 0.2s ease}.login-btn.svelte-17x3c1c:hover:not(:disabled){background:rgba(255, 255, 255, 0.15);transform:translateY(-1px)}.login-btn.svelte-17x3c1c:active:not(:disabled){transform:translateY(1px)}.login-btn.svelte-17x3c1c:disabled{opacity:0.5;cursor:not-allowed}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script>\\n    import { goto } from '$app/navigation';\\n\\n    let username = '';\\n    let password = '';\\n    let errorMessage = '';\\n    let isLoading = false;\\n\\n    async function handleLogin() {\\n        try {\\n            isLoading = true;\\n            errorMessage = '';\\n            \\n            console.log('发送登录请求:', { username });\\n            \\n            const response = await fetch('/api/login', {\\n                method: 'POST',\\n                headers: {\\n                    'Content-Type': 'application/json',\\n                    'Accept': 'application/json'\\n                },\\n                body: JSON.stringify({ username, password }),\\n                credentials: 'same-origin'\\n            });\\n\\n            console.log('登录响应状态:', response.status);\\n            console.log('登录响应头:', Object.fromEntries(response.headers));\\n\\n            const rawText = await response.text();\\n            console.log('原始响应:', rawText);\\n\\n            let result;\\n            try {\\n                result = JSON.parse(rawText);\\n            } catch (e) {\\n                console.error('JSON解析错误:', e);\\n                throw new Error('服务器响应格式错误');\\n            }\\n\\n            if (response.ok) {\\n                console.log('登录成功:', result);\\n                // 保存token到localStorage\\n                if (result.token) {\\n                    localStorage.setItem('auth_token', result.token);\\n                    // 设置Authorization header\\n                    const headers = new Headers();\\n                    headers.append('Authorization', \`Bearer \${result.token}\`);\\n                    console.log('Token已保存:', result.token);\\n                }\\n                // 登录成功，跳转到管理页面\\n                goto('/bde/dashboard');\\n            } else {\\n                console.error('登录失败:', result);\\n                // 登录失败，显示错误消息\\n                errorMessage = result.message || '登录失败';\\n            }\\n        } catch (error) {\\n            console.error('登录错误:', error);\\n            errorMessage = error.message || '网络错误，请重试';\\n        } finally {\\n            isLoading = false;\\n        }\\n    }\\n<\/script>\\n\\n<div class=\\"login-container\\">\\n    <div class=\\"login-box\\">\\n        <h2>管理员登录</h2>\\n        {#if errorMessage}\\n            <div class=\\"error-message\\">{errorMessage}</div>\\n        {/if}\\n        <form on:submit|preventDefault={handleLogin}>\\n            <div class=\\"input-wrapper\\">\\n                <div class=\\"input-group\\">\\n                    <label for=\\"username\\">用户名</label>\\n                    <input \\n                        type=\\"text\\" \\n                        id=\\"username\\"\\n                        bind:value={username} \\n                        placeholder=\\"请输入用户名\\" \\n                        required\\n                        disabled={isLoading}\\n                    />\\n                </div>\\n                <div class=\\"input-group\\">\\n                    <label for=\\"password\\">密码</label>\\n                    <input \\n                        type=\\"password\\" \\n                        id=\\"password\\"\\n                        bind:value={password} \\n                        placeholder=\\"请输入密码\\" \\n                        required\\n                        disabled={isLoading}\\n                    />\\n                </div>\\n                <div class=\\"button-group\\">\\n                    <button type=\\"submit\\" class=\\"login-btn\\" disabled={isLoading}>\\n                        {isLoading ? '登录中...' : '登录'}\\n                    </button>\\n                </div>\\n            </div>\\n        </form>\\n    </div>\\n</div>\\n\\n<style>\\n    :global(html, body) {\\n        margin: 0;\\n        padding: 0;\\n        width: 100%;\\n        height: 100%;\\n        overflow: hidden;\\n        background-color: #090B10;\\n    }\\n\\n    .login-container {\\n        position: fixed;\\n        top: 0;\\n        left: 0;\\n        width: 100%;\\n        height: 100%;\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n        background-color: #090B10;\\n        font-family: system-ui, -apple-system, sans-serif;\\n    }\\n\\n    .login-box {\\n        background: rgba(20, 24, 36, 0.5);\\n        border-radius: 20px;\\n        border: 1px solid rgba(255, 255, 255, 0.05);\\n        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);\\n        backdrop-filter: blur(20px);\\n        padding: 48px;\\n        width: 360px;\\n        text-align: center;\\n    }\\n\\n    .error-message {\\n        color: #ff4d4f;\\n        margin-bottom: 16px;\\n        background: rgba(255, 77, 79, 0.1);\\n        padding: 10px;\\n        border-radius: 8px;\\n    }\\n\\n    h2 {\\n        color: #fff;\\n        font-size: 24px;\\n        font-weight: 500;\\n        margin: 0 0 32px 0;\\n        letter-spacing: 0.5px;\\n    }\\n\\n    .input-wrapper {\\n        display: flex;\\n        flex-direction: column;\\n        align-items: center;\\n        gap: 24px;\\n    }\\n\\n    .input-group {\\n        width: 100%;\\n    }\\n\\n    label {\\n        display: block;\\n        margin-bottom: 8px;\\n        color: rgba(255, 255, 255, 0.6);\\n        text-align: left;\\n        font-size: 14px;\\n        font-weight: 500;\\n    }\\n\\n    input {\\n        width: 100%;\\n        padding: 14px 16px;\\n        background: rgba(255, 255, 255, 0.05);\\n        border: 1px solid rgba(255, 255, 255, 0.1);\\n        border-radius: 12px;\\n        color: #fff;\\n        font-size: 15px;\\n        box-sizing: border-box;\\n        transition: all 0.2s ease;\\n    }\\n\\n    input::placeholder {\\n        color: rgba(255, 255, 255, 0.3);\\n    }\\n\\n    input:focus {\\n        outline: none;\\n        border-color: rgba(255, 255, 255, 0.2);\\n        background: rgba(255, 255, 255, 0.08);\\n    }\\n\\n    input:disabled {\\n        opacity: 0.5;\\n        cursor: not-allowed;\\n    }\\n\\n    .button-group {\\n        width: 100%;\\n        margin-top: 8px;\\n    }\\n\\n    .login-btn {\\n        width: 100%;\\n        padding: 14px;\\n        background: rgba(255, 255, 255, 0.1);\\n        color: #fff;\\n        border: none;\\n        border-radius: 12px;\\n        font-size: 15px;\\n        font-weight: 500;\\n        cursor: pointer;\\n        transition: all 0.2s ease;\\n    }\\n\\n    .login-btn:hover:not(:disabled) {\\n        background: rgba(255, 255, 255, 0.15);\\n        transform: translateY(-1px);\\n    }\\n\\n    .login-btn:active:not(:disabled) {\\n        transform: translateY(1px);\\n    }\\n\\n    .login-btn:disabled {\\n        opacity: 0.5;\\n        cursor: not-allowed;\\n    }\\n</style>\\n"],"names":[],"mappings":"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"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let username = "";
  let password = "";
  $$result.css.add(css);
  return `<div class="login-container svelte-17x3c1c"><div class="login-box svelte-17x3c1c"><h2 class="svelte-17x3c1c" data-svelte-h="svelte-nsheot">管理员登录</h2> ${``} <form><div class="input-wrapper svelte-17x3c1c"><div class="input-group svelte-17x3c1c"><label for="username" class="svelte-17x3c1c" data-svelte-h="svelte-sw7e36">用户名</label> <input type="text" id="username" placeholder="请输入用户名" required ${""} class="svelte-17x3c1c"${add_attribute("value", username, 0)}></div> <div class="input-group svelte-17x3c1c"><label for="password" class="svelte-17x3c1c" data-svelte-h="svelte-1ehyycy">密码</label> <input type="password" id="password" placeholder="请输入密码" required ${""} class="svelte-17x3c1c"${add_attribute("value", password, 0)}></div> <div class="button-group svelte-17x3c1c"><button type="submit" class="login-btn svelte-17x3c1c" ${""}>${escape("登录")}</button></div></div></form></div> </div>`;
});
export {
  Page as default
};
